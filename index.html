<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aim Lab - Mini hra</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #111;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    color: white;
    font-family: Arial, sans-serif;
  }

  #target {
    position: absolute;
    background: red;
    border-radius: 50%;
    cursor: pointer;
  }

  #scoreboard {
    position: fixed;
    top: 10px;
    left: 10px;
    font-size: 24px;
  }

  #gameOver {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    font-size: 36px;
    text-align: center;
    display: none;
  }
</style>
</head>
<body>

<div id="scoreboard">Skóre: 0</div>
<div id="gameOver"></div>
<div id="target"></div>

<script>
  const target = document.getElementById('target');
  const scoreboard = document.getElementById('scoreboard');
  const gameOverText = document.getElementById('gameOver');

  let score = 0;
  let targetSize = 80; // počáteční velikost v px
  let timer;
  const maxWaitTime = 1500; // 1,5 sekundy

  function randomPosition() {
    const x = Math.random() * (window.innerWidth - targetSize);
    const y = Math.random() * (window.innerHeight - targetSize);
    target.style.left = `${x}px`;
    target.style.top = `${y}px`;
  }

  function startTimer() {
    clearTimeout(timer);
    timer = setTimeout(endGame, maxWaitTime);
  }

  function updateTarget() {
    randomPosition();
    target.style.width = `${targetSize}px`;
    target.style.height = `${targetSize}px`;
  }

  function endGame() {
    target.style.display = 'none';
    gameOverText.innerHTML = `Konec hry!<br>Tvůj výsledek: ${score}`;
    gameOverText.style.display = 'block';
    setTimeout(startGame, 3000);
  }

  function startGame() {
    score = 0;
    targetSize = 80;
    scoreboard.textContent = `Skóre: ${score}`;
    gameOverText.style.display = 'none';
    target.style.display = 'block';
    updateTarget();
    startTimer();
  }

  target.addEventListener('click', () => {
    score++;
    scoreboard.textContent = `Skóre: ${score}`;
    targetSize = Math.max(20, targetSize - 5); // zmenší se, ale ne pod 20px
    updateTarget();
    startTimer();
  });

  // Spuštění hry
  startGame();
</script>

</body>
</html>
